---
layout: post
title:  "DB know how"
date:   2016-02-10 21:07:26
author: 박정환
categories: DevOps
tags:	DevOps
cover:  "/assets/Earth.png"
---
# DB 테이블과 스키마의 설계를 하면서 실수한점

### 코드값을 하드코딩하여 사용했다. (성별은 전체, 남, 여)
        하드코딩된 코드값을 사용하면 오타에의해 문제가 발생할 수 있기때문에
        코드테이블을 따로 정의 한 뒤, 참조하여 사용하도록 해야한다

### 필수속성을 Not Null처리 하지 않았다.
		유효한 데이터가 관리되도록 해야한다.

### 코드값과 여부속성을 잘 판단하여 사용해야 한다.
        2가지인경우 = 여부속성
        3가지이상인경우 = 코드값

### 부가적인 시스템데이터가 필요하다
		생성일, 수정일 등등의 관리적인 측면에서 필요한 데이터를 속성에 추가하지 않았다.
		실제 서비스에서는 사용자 이력 검증등에 필요하다.

### 여부성 데이터는 char(1)을 사용하여 y/n으로 관리하는 것이 일반적이다.


### 영문/한글명 분류어를 사용해야 하고, 통일해야한다.
		일시/일자 등

### 테이블, 속성 정의를 더 신경써야 한다.
		개발하면서 커뮤니케이션이 이루어지지 않으면 서로 힘들어진다.

# 새롭게 알게된점

### 인조키, 본질키의 차이를 알게되었다.
        - 인조식별자
            rownum과 같은 auto increment 속성의 인위적인 식별자.
            참조와 조인이 너무 중첩된 경우, 한단계 끊어가기 위해 사용함
        - 본질식별자
           테이블의 속성중, 한 행을 유일하게 식별하는데 필요한 가장 작은 단위

### 실제로는 도메인을 미리 정의한 후 사용한다.
		통일성과 커뮤니케이션에서 좋을듯.

### 업데이트가 자주 발생하는 속성은 따로 테이블에 뽑아놓고 관리 하는 것이 일반적이다.
		투표횟수, 조회수 등
		본 데이터와 같이 관리하면 locking 문제가 발생 할 수 있음.

